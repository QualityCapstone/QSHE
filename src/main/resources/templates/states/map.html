<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="partials/layout :: header">
    <meta charset="UTF-8" />
    <title>Index page</title>
</head>
<body>


<div th:replace="partials/layout :: navbar" />

<div class="text-center d-flex flex-column align-items-center justify-content-center map-container">
    <div id="map"></div>

    <div>
        <div class="input-group mb-3">
            <select class="custom-select" id="inputGroupSelect02">
                <option  th:each="state : ${states}" th:text="${state.name}"> state name </option>
            </select>
            <div class="input-group-append">
                <label class="input-group-text" for="inputGroupSelect02">Go</label>
            </div>
        </div>

    </div>

</div>



<div id="popperElement">
    <span id="state-name">Texas</span> True Sense Rating: 4.4 <i class="fas fa-star"></i>

    <hr>
    Education
    <div class="progress">
        <div class="progress-bar bg-success" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    Health
    <div class="progress">
      <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    Employment
    <div class="progress">
        <div class="progress-bar bg-warning" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    Safety
    <div class="progress">
        <div class="progress-bar bg-danger" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    Growth
    <div class="progress">
        <div class="progress-bar bg-danger" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
    </div>

</div>

<div th:replace="partials/layout :: footer" />

<script th:inline="javascript">

    let stateData = [];

    /*<![CDATA[*/

        /*[# th:each="state : ${states}"]*/
            stateData.push({name: /*[[${state.name}]]*/, abbr: /*[[${state.abbr}]]*/ });
        /*[/]*/


    /*]]>*/
</script>


<script  th:src="@{~/built/map.js}"></script>
</body>
</html>